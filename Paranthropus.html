<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paranthropus - Modelo Interactivo</title>
    <style>
        :root {
            --background: transparent;
            --text: #ffffff;
            --accent: #ffa149;
            --node: #ff6b6b;
            --node-hover: #ff4757;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            overflow: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            position: relative;
        }

        /* Modelo y contenedor */
        .model-container {
            position: relative;
            width: 100%;
            height: 80vh; /* Reducido para evitar scroll vertical */
            margin: 0 auto;
            background: transparent;
            border-radius: 50% / 90% 90% 10% 10%;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .model-wrapper {
            position: relative;
            width: 95%; /* Aumentado de 90% a 95% */
            height: 95%; /* Aumentado de 90% a 95% */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .model-video {
            width: auto;
            height: 120%; /* Aumentado de 100% a 120% */
            max-width: 120%; /* Aumentado de 100% a 120% */
            object-fit: contain;
            border-radius: 50% / 90% 90% 10% 10%;
            box-shadow: none;
        }

        .node.hidden {
            display: none;
        }

        /* Nodos interactivos */
        .node {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--node);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #fff;
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.3);
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: #fff;
        }

        .node.visited {
            background: #4CAF50; /* Verde para visitados */
            box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.3);
        }

        .node.visited::before {
            background: radial-gradient(circle, rgba(76,175,80,0.2) 0%, transparent 70%);
        }

        .node::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,107,107,0.2) 0%, transparent 70%);
            animation: pulse 2s infinite;
        }

        .node:hover {
            transform: scale(1.2);
            background: var(--node-hover);
        }

        .node.visited:hover {
            background: #45a049;
        }

        .node.unvisited {
            background: #ccc; /* Gray for unvisited nodes */
        }

        /* Info panel */
        .info-panel {
            position: absolute;
            background: rgba(0, 0, 0, 0.92);
            backdrop-filter: blur(14px);
            padding: 1.75rem 2.5rem;
            border-radius: 14px;
            /* ancho adaptativo: hasta 1100px, o 90% del viewport */
            width: min(90vw, 1100px);
            min-width: 420px;
            visibility: hidden;
            opacity: 0;
            transition: all 0.2s ease;
            border: 1px solid var(--accent);
            z-index: 1001;
        }

        .info-panel.visible {
            visibility: visible;
            opacity: 1;
        }

        .info-title {
            color: var(--accent);
            font-size: 1.6rem;
            margin-bottom: 0.6rem;
        }

        .info-text {
            font-size: 1.05rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.98);
        }

        /* Ajustes responsivos para paneles m√°s grandes */
        @media (max-width: 720px) {
            .info-panel {
                width: 96vw;
                padding: 1rem 0.9rem;
                min-width: unset;
            }
            .info-title { font-size: 1.15rem; }
            .info-text { font-size: 0.98rem; line-height: 1.45; }
        }

        /* Animaciones */
        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            70% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        /* T√≠tulo y navegaci√≥n */
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .title {
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 0.5rem;
            text-shadow: 0 0 20px rgba(255, 161, 73, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 0.8rem 1.5rem;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--accent);
            color: var(--text);
            text-decoration: none;
            border-radius: 30px;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: var(--accent);
            color: #000;
        }

        /* Mini timeline para mostrar el recorrido */
        .journey-timeline {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 400px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            border: 1px solid var(--accent);
            z-index: 15;
            overflow-x: auto;
        }

        .journey-timeline::-webkit-scrollbar {
            height: 8px;
        }

        .journey-timeline::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .journey-timeline::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }

        .journey-timeline::-webkit-scrollbar-thumb:hover {
            background: #e6933a;
        }

        .journey-title {
            color: var(--accent);
            font-size: 1rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .journey-steps {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            min-width: fit-content;
        }

        .journey-step {
            width: 80px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            position: relative;
            flex: none;
        }

        .journey-step.active {
            background: var(--accent);
        }

        .journey-step::after {
            content: '';
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
        }

        .journey-step.active::after {
            background: var(--accent);
            box-shadow: 0 0 10px rgba(255, 161, 73, 0.5);
        }

        .journey-labels {
            display: flex;
            margin-top: 0.5rem;
            font-size: 0.6rem;
            color: rgba(255, 255, 255, 0.7);
            gap: 0.5rem;
            min-width: fit-content;
        }

        .journey-label {
            text-align: center;
            width: 80px;
            flex: none;
        }

        .journey-label.active {
            color: var(--accent);
            font-weight: bold;
        }

        /* Panel de progreso del tour */
        .tour-progress {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            border: 1px solid var(--accent);
            z-index: 15;
        }

        .tour-title {
            color: var(--accent);
            font-size: 1rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .tour-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .tour-step {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            position: relative;
        }

        .tour-step.completed {
            background: #4CAF50;
        }

        .tour-step.next {
            background: var(--accent);
        }

        .tour-step::after {
            content: '';
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
        }

        .tour-step.completed::after {
            background: #4CAF50;
        }

        .tour-step.next::after {
            background: var(--accent);
            box-shadow: 0 0 10px rgba(255, 161, 73, 0.5);
        }

        .tour-instruction {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            margin-top: 0.5rem;
        }

        /* Notificaciones personalizadas */
        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
            padding: 1rem 2rem;
            border-radius: 10px;
            border: 1px solid var(--accent);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .notification.show {
            opacity: 1;
            visibility: visible;
        }

        .notification.success {
            border-color: #4CAF50;
        }

        .notification.info {
            border-color: var(--accent);
        }

        /* Background video */
        .background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }

        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: -1;
        }

        /* Mensaje lateral izquierdo */
        .mobile-app-message {
            position: fixed;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            width: 250px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            border: 1px solid var(--accent);
            z-index: 15;
            text-align: center;
        }

        .mobile-app-title {
            color: var(--accent);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .mobile-app-text {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.4;
        }

        /* Logo styles */
        .logo-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: var(--text);
            z-index: 1000;
            background: rgba(0, 0, 0, 0.6);
            padding: 10px 15px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .logo-link:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.05);
        }

        .logo-image {
            height: 30px;
            width: auto;
        }

        .logo-text {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent);
        }
    </style>
</head>
<body>
    <video class="background-video" autoplay muted loop playsinline>
        <source src="https://i.imgur.com/1IISPsS.mp4" type="video/mp4">
    </video>
    <div class="video-overlay"></div>

    <!-- Logo in top-left corner -->
    <a href="index.html" class="logo-link" title="Ir a la p√°gina principal">
        <img src="https://i.imgur.com/zdK1P5m.png" alt="Genus Logo" class="logo-image">
        <span class="logo-text">Genus</span>
    </a>

    <a href="Humanos.html" class="back-button" style="top: 80px;">‚Üê Volver a la l√≠nea temporal</a>

    <!-- Mini timeline del recorrido -->
    <div class="journey-timeline">
        <div class="journey-title">Tu Recorrido</div>
        <div class="journey-steps">
            <div class="journey-step"></div>
            <div class="journey-step"></div>
            <div class="journey-step"></div>
            <div class="journey-step "></div>
            <div class="journey-step active"></div>
            <div class="journey-step"></div>
            <div class="journey-step"></div>
            <div class="journey-step"></div>
            <div class="journey-step"></div>
            <div class="journey-step"></div>
        </div>
        <div class="journey-labels">
            <div class="journey-label">Sahelanthropus</div>
            <div class="journey-label">Ardipithecus</div>
            <div class="journey-label">Australopithecus</div>
            <div class="journey-label">Kenyanthropus</div>
            <div class="journey-label active">Paranthropus</div>
            <div class="journey-label">Homo habilis</div>
            <div class="journey-label">Homo erectus</div>
            <div class="journey-label">Homo heidelbergensis</div>
            <div class="journey-label">Homo neanderthalensis</div>
            <div class="journey-label">Homo sapiens</div>
        </div>
    </div>

    <!-- Panel de progreso del tour -->
    <div class="tour-progress">
        <div class="tour-title">Tour Interactivo</div>
        <div class="tour-steps">
            <div class="tour-step completed" data-step="1"></div>
            <div class="tour-step next" data-step="2"></div>
            <div class="tour-step" data-step="3"></div>
            <div class="tour-step" data-step="4"></div>
            <div class="tour-step" data-step="5"></div>
        </div>
        <div class="tour-instruction">¬°Comienza explorando el cr√°neo!</div>
    </div>

    <!-- Notificaci√≥n -->
    <div class="notification" id="notification">
        Da clic a los nodos para comenzar el recorrido.
    </div>



    <div class="container">
        <header class="header">
            <h1 class="title">Paranthropus</h1>
            <p class="subtitle">Modelo Interactivo - 2.7-1.2 millones de a√±os</p>
        </header>

        <!-- Bot√≥n para desplegar di√°logo "¬øSab√≠as que?" -->
        <button id="toggleInfoBtn" style="position: fixed; left: 50px; top: 150px; z-index: 1001; padding: 0.6rem 1rem; background-color: var(--accent); border: none; border-radius: 8px; color: #000; font-weight: bold; cursor: pointer;">
            ¬øSab√≠as que?
            
        </button>

        <!-- Cuadro de di√°logo desplegable desde la izquierda -->
        <div id="infoPanel" style="position: fixed; top: 200px; left: -400px; width: 400px; height: 50vh; background: rgba(0,0,0,0.95); color: #fff; padding: 1rem; overflow-y: auto; box-shadow: 2px 0 10px rgba(0,0,0,0.7); transition: left 0.3s ease-in-out; z-index: 1000; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
            <h2 style="color: var(--accent); text-align: center; margin-bottom: 1rem;">¬øSab√≠as que?</h2>
            <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem; border: 1px solid var(--accent);">
                <thead>
                    <tr>
                        <th style="border: 1px solid var(--accent); padding: 0.5rem; text-align: left; background: rgba(255, 161, 73, 0.1);">Nombre</th>
                        <th style="border: 1px solid var(--accent); padding: 0.5rem; text-align: left; background: rgba(255, 161, 73, 0.1);">Link</th>
                        <th style="border: 1px solid var(--accent); padding: 0.5rem; text-align: left; background: rgba(255, 161, 73, 0.1);">Info que encontrar√°</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;"><strong>Paranthropus aethiopicus</strong> *(2.7‚Äì2.3 Ma)*</td>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;"><a href="https://humanorigins.si.edu/evidence/human-fossils/species/paranthropus-aethiopicus" target="_blank" style="color: var(--accent);">Smithsonian Human Origins</a></td>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;">‚Ä¢ Cr√°neo primitivo pero ya robusto<br>‚Ä¢ Cresta sagital marcada<br>‚Ä¢ Mand√≠bula muy gruesa<br>‚Ä¢ Molares grandes adaptados a dieta dura<br>‚Ä¢ Rostro muy proyectado (prognatismo)<br>‚Ä¢ Famoso "Black Skull" con sus rasgos extremos</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;"><strong>Paranthropus boisei</strong> *(2.3‚Äì1.2 Ma)*</td>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;"><a href="https://humanorigins.si.edu/evidence/human-fossils/species/paranthropus-boisei" target="_blank" style="color: var(--accent);">Smithsonian Human Origins</a><br><a href="https://www.nationalgeographic.es/ciencia/descubrimientos-paranthropus-boisei" target="_blank" style="color: var(--accent);">National Geographic sobre "Zinj"</a></td>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;">‚Ä¢ El m√°s robusto de todos los Paranthropus<br>‚Ä¢ Molares enormes ("megadontia extrema")<br>‚Ä¢ Cresta sagital muy grande<br>‚Ä¢ Mand√≠bula gigante, en forma de U<br>‚Ä¢ Cuerpo peque√±o pero musculoso<br>‚Ä¢ Dieta basada en vegetaci√≥n dura (ra√≠ces, tallos)</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;"><strong>Paranthropus robustus</strong> *(2‚Äì1.2 Ma)*</td>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;"><a href="https://humanorigins.si.edu/evidence/human-fossils/species/paranthropus-robustus" target="_blank" style="color: var(--accent);">Smithsonian Human Origins</a></td>
                        <td style="border: 1px solid var(--accent); padding: 0.5rem; vertical-align: top;">‚Ä¢ Similar a *P. boisei* pero menos extremo<br>‚Ä¢ Cr√°neo robusto con cresta moderada<br>‚Ä¢ Molares muy grandes pero no gigantes<br>‚Ä¢ Mand√≠bula espesa y fuerte<br>‚Ä¢ Adaptaci√≥n clara a procesar semillas y plantas duras<br>‚Ä¢ Mezcla de rasgos robustos y algunos menos exagerados</td>
                    </tr>
                </tbody>
            </table>
        </div>

        
        <div class="model-container">
            <div class="model-wrapper">
                <video src="https://i.imgur.com/4fyr6mq.mp4" class="model-video" autoplay muted playsinline>
                    Tu navegador no soporta el elemento video.
                </video>

                <!-- Nodos interactivos -->
                <div class="node hidden" style="top: -2%; left: 50%" data-info="cr√°neo" data-order="1">
                    <div class="info-panel">
                        <h3 class="info-title">Cr√°neo</h3>
                        <p class="info-text">
                        Paranthropus tiene un cr√°neo muy robusto: la b√≥veda es baja (cabeza "achatada"), con frente retirada, arcos supraorbitales marcados ("cejas √≥seas") y ‚Äî en los machos de varias especies ‚Äî una cresta sagital prominente en la parte superior del cr√°neo. Esa cresta serv√≠a para anclar m√∫sculos de masticaci√≥n muy poderosos.<br><br>
                        Las mejillas son anchas: los arcos cigom√°ticos est√°n muy desarrollados, lo que proporciona espacio para m√∫sculos temporales grandes.<br><br>
                        A pesar de la robustez del cr√°neo, su capacidad craneal no es mucho mayor que la de algunos australopitecos: en la especie Paranthropus boisei se estima aproximadamente unos ~510‚Äì515 cm¬≥.<br><br>
                        Esta combinaci√≥n ‚Äî cr√°neo robusto, cresta para m√∫sculos grandes, caja cerebral modesta ‚Äî sugiere una adaptaci√≥n especializada m√°s para masticar alimentos duros que para un gran desarrollo cerebral.<br><br>
                        En general: el cr√°neo de Paranthropus est√° adaptado a un aparato masticatorio muy potente.<br><br>
                        <strong>Referencias:</strong><br>
                        <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a><br>
                        <a href="https://www.mclibre.org" target="_blank">mclibre.org</a><br>
                        <a href="https://australian.museum" target="_blank">Museo Australiano</a><br>
                        <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a><br>
                        <a href="https://www.mclibre.org" target="_blank">mclibre.org</a>
                        </p>
                        <p class="info-status" id="status-1">Estado: No visitado</p>
                    </div>
                </div>

                <div class="node hidden" style="top: 5%; left: 46%" data-info="rostro" data-order="2">
                    <div class="info-panel">
                        <h3 class="info-title">üëÉ Regi√≥n facial y mand√≠bula</h3>
                        <p class="info-text">
                        La cara de Paranthropus suele ser plana o relativamente ortogn√°tica en comparaci√≥n con simios ‚Äî es decir, en conjunto la cara no es muy progn√°tica hacia adelante; los p√≥mulos sobresalen hacia los lados para dar amplitud.<br><br>
                        La mand√≠bula es muy masiva y profunda, con ramos mandibulares (las ramas verticales hacia arriba) altos ‚Äî una estructura robusta pensada para soportar fuertes fuerzas de mordida.<br><br>
                        La articulaci√≥n temporomandibular (la uni√≥n donde la mand√≠bula se articula con el cr√°neo) es grande, lo que refuerza la idea de un sistema de masticaci√≥n muy potente y resistente al desgaste.<br><br>
                        <strong>Referencias:</strong><br>
                        <a href="https://www.mclibre.org" target="_blank">mclibre.org</a><br>
                        <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a>
                        </p>
                        <p class="info-status" id="status-2">Estado: No visitado</p>
                    </div>
                </div>

                <div class="node hidden" style="top: 10%; left: 50%" data-info="dentici√≥n" data-order="3">
                    <div class="info-panel">
                        <h3 class="info-title">ü¶∑ Dentadura</h3>
                        <p class="info-text">
                        Los dientes de Paranthropus son grandes y robustos, con molares y premolares muy desarrollados para triturar alimentos duros como semillas, nueces o ra√≠ces. Los caninos son peque√±os y no sobresalen mucho, lo que indica una reducci√≥n del dimorfismo sexual y una dieta menos agresiva que en simios. El esmalte dental es grueso, lo que ayuda a resistir el desgaste causado por alimentos abrasivos. Esta dentici√≥n especializada sugiere una adaptaci√≥n a un nicho ecol√≥gico espec√≠fico, enfocado en vegetales duros y posiblemente en la masticaci√≥n de alimentos que requieren mucha fuerza.<br><br>
                        <strong>Referencias:</strong><br>
                        <a href="https://www.mclibre.org" target="_blank">mclibre.org</a><br>
                        <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a>
                        </p>
                        <p class="info-status" id="status-3">Estado: No visitado</p>
                    </div>
                </div>

                <div class="node hidden" style="top: 43%; left: 45%" data-info="foramen" data-order="4">
                    <div class="info-panel">
                        <h3 class="info-title">üö∂‚Äç‚ôÇÔ∏è Postura y locomoci√≥n</h3>
                        <p class="info-text">
                        Paranthropus exhib√≠a una postura b√≠peda, con el foramen magnum posicionado hacia adelante, indicando una adaptaci√≥n a la locomoci√≥n erecta. Sin embargo, tambi√©n mostraba caracter√≠sticas que sugieren una capacidad arb√≥rea limitada, como crestas occipitales pronunciadas para anclar m√∫sculos nucales fuertes. Los fragmentos de huesos largos sugieren una locomoci√≥n mixta, combinando bipedalismo terrestre con habilidades para trepar, t√≠pica de hom√≠nidos del Plioceno temprano.<br><br>
                        <strong>Referencias:</strong><br>
                        <a href="https://www.mclibre.org" target="_blank">mclibre.org</a><br>
                        <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a>
                        </p>
                        <p class="info-status" id="status-4">Estado: No visitado</p>
                    </div>
                </div>

                <div class="node hidden" style="top: 54%; left: 57%" data-info="manos" data-order="5">
                    <div class="info-panel">
                        <h3 class="info-title">üñêÔ∏è Manos / extremidades superiores</h3>
                        <p class="info-text">
                        Paranthropus pose√≠a extremidades superiores robustas, con h√∫mero y c√∫bito masivos, indicando una musculatura poderosa. Los hombros anchos y las clav√≠culas orientadas sugieren una capacidad para movimientos de fuerza, posiblemente relacionados con la masticaci√≥n intensa y actividades arb√≥reas limitadas. Aunque no se conservan manos completas, se infiere una prensi√≥n b√°sica, adecuada para manipular alimentos duros y herramientas simples, pero sin la precisi√≥n de especies posteriores como Homo habilis.<br><br>
                        <strong>Referencias:</strong><br>
                        <a href="https://www.mclibre.org" target="_blank">mclibre.org</a><br>
                        <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a>
                        </p>
                        <p class="info-status" id="status-5">Estado: No visitado</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Funci√≥n para mostrar notificaciones
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Reset tour progress on page load for fresh start
        localStorage.removeItem('sahelanthropus-tour');
        let visitedNodes = [];
        let currentStep = 1;

        // Actualizar visuales iniciales
        function updateVisuals() {
            nodes.forEach(node => {
                const order = parseInt(node.dataset.order);
                const numberSpan = document.createElement('span');
                numberSpan.textContent = order;
                node.appendChild(numberSpan);

                if (visitedNodes.includes(order)) {
                    node.classList.remove('unvisited');
                    node.classList.add('visited');
                    document.getElementById(`status-${order}`).textContent = 'Estado: Visitado';
                } else {
                    node.classList.remove('visited');
                    node.classList.add('unvisited');
                    document.getElementById(`status-${order}`).textContent = 'Estado: No visitado';
                }
            });

            updateProgress();
        }

        // Actualizar barra de progreso
        function updateProgress() {
            const tourSteps = document.querySelectorAll('.tour-step');
            tourSteps.forEach(step => {
                const stepNum = parseInt(step.dataset.step);
                step.classList.remove('completed', 'next');
                if (visitedNodes.includes(stepNum)) {
                    step.classList.add('completed');
                } else if (stepNum === currentStep) {
                    step.classList.add('next');
                }
            });

            const instruction = document.querySelector('.tour-instruction');
            if (currentStep <= 5) {
                const nodeNames = ['cr√°neo', 'rostro', 'dentici√≥n', 'foramen magnum', 'manos'];
                instruction.textContent = `Siguiente: Explora el ${nodeNames[currentStep - 1]}`;
            } else {
                instruction.textContent = '¬°Tour completado! Has explorado todos los nodos.';
                showNotification('¬°Felicitaciones! Has completado el tour del hominido.', 'success');
            }
        }

        // Funciones auxiliares para manejo de paneles
        function closeAllPanels() {
            document.querySelectorAll('.info-panel.visible').forEach(panel => {
                panel.classList.remove('visible');
            });
            document.querySelectorAll('.node').forEach(n => n.style.visibility = 'visible');
            document.querySelectorAll('.lm-marker').forEach(m => m.style.visibility = 'visible');
            // Restaurar posici√≥n al DOM original dentro del wrapper si fue movido
            document.querySelectorAll('.info-panel').forEach(panel => {
                const originalParent = panel.closest('.node') || document.querySelector('.model-wrapper');
                if (panel.parentElement !== originalParent) {
                    originalParent.appendChild(panel);
                    panel.style.position = 'absolute';
                    panel.style.left = '';
                    panel.style.top = '';
                }
            });
        }

        function showInfoPanel(infoPanel, node) {
            // Ocultar otros paneles
            document.querySelectorAll('.info-panel').forEach(panel => panel.classList.remove('visible'));

            // Ocultar nodos y marcadores
            document.querySelectorAll('.node').forEach(n => n.style.visibility = 'hidden');
            document.querySelectorAll('.lm-marker').forEach(m => m.style.visibility = 'hidden');

            // Preparar panel: limitar altura y scroll vertical
            infoPanel.style.maxHeight = '75vh';
            infoPanel.style.overflowY = 'auto';

            // Calcular ancho preferido y ancho m√°ximo basado en viewport
            const wrapper = document.querySelector('.model-wrapper');
            const wrapperRect = wrapper.getBoundingClientRect();
            const nodeRect = node.getBoundingClientRect();

            const preferred = Math.min(wrapperRect.width * 0.65, 760);
            const maxAllowed = Math.max(wrapperRect.width - 24, 300);
            const panelWidth = Math.min(preferred, maxAllowed);
            infoPanel.style.width = panelWidth + 'px';
            infoPanel.style.minWidth = '300px';

            // Mover el panel fuera del contenedor (a body) para evitar que el borde radial lo corte
            if (infoPanel.parentElement !== document.body) {
                document.body.appendChild(infoPanel);
            }
            infoPanel.style.position = 'fixed';

            // Mostrar el panel para medir su tama√±o en el viewport
            infoPanel.classList.add('visible');
            const panelRect = infoPanel.getBoundingClientRect();

            // Calcular posici√≥n preferida: encima del nodo, centrado en X
            const nodeCenterX = nodeRect.left + nodeRect.width / 2;
            const margin = 12; // margen desde los bordes del viewport

            let left = Math.round(nodeCenterX - panelRect.width / 2);
            if (left < margin) left = margin;
            if (left + panelRect.width > window.innerWidth - margin) left = window.innerWidth - panelRect.width - margin;

            // Preferir colocar arriba del nodo
            let top = Math.round(nodeRect.top - panelRect.height - 12);
            if (top < margin) {
                // si no cabe arriba, colocar debajo
                top = Math.round(nodeRect.bottom + 12);
                // si tampoco cabe abajo, centrar verticalmente cercano al nodo
                if (top + panelRect.height > window.innerHeight - margin) {
                    top = Math.max(margin, Math.round((window.innerHeight - panelRect.height) / 2));
                }
            }

            infoPanel.style.left = left + 'px';
            infoPanel.style.top = top + 'px';
            infoPanel.style.transform = 'none';

            // A√±adir bot√≥n de cerrar si no existe
            if (!infoPanel.querySelector('.close-btn')) {
                const btn = document.createElement('button');
                btn.className = 'close-btn';
                btn.textContent = '√ó';
                btn.title = 'Cerrar';
                btn.style = 'position:absolute;top:8px;right:10px;background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer;z-index:1100;';
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeAllPanels();
                });
                infoPanel.appendChild(btn);
            }
        }

        // Manejar interacciones con los nodos
        const nodes = document.querySelectorAll('.node');

        nodes.forEach(node => {
            const infoPanel = node.querySelector('.info-panel');
            const order = parseInt(node.dataset.order);

            // Mostrar panel solo al hacer clic
            node.addEventListener('click', (e) => {
                showInfoPanel(infoPanel, node);
                // Evitar que el clic propague y cierre el panel inmediatamente
                e.stopPropagation();
            });

            // Ya no se usa mouseleave para ocultar el panel

            // Evitar que el clic dentro del panel cierre el panel
            infoPanel.addEventListener('click', (ev) => {
                ev.stopPropagation();
            });

            // Marcar como visitado al hacer clic
            node.addEventListener('click', () => {
                if (!visitedNodes.includes(order)) {
                    if (order === currentStep) {
                        visitedNodes.push(order);
                        node.classList.remove('unvisited');
                        node.classList.add('visited');
                        document.getElementById(`status-${order}`).textContent = 'Estado: Visitado';
                        currentStep++;
                        localStorage.setItem('sahelanthropus-tour', JSON.stringify(visitedNodes));
                        updateProgress();
                        showNotification(`¬°Excelente! Has explorado el ${node.dataset.info}.`, 'success');
                    } else {
                        showNotification(`¬°Sigue el orden! Primero explora el nodo ${currentStep}.`, 'info');
                    }
                }
            });
        });

        // Cerrar paneles al hacer clic fuera (un solo listener global)
        document.addEventListener('click', (ev) => {
            closeAllPanels();
        });

        // Cerrar con Escape
        document.addEventListener('keydown', (ev) => {
            if (ev.key === 'Escape') closeAllPanels();
        });

        // Funci√≥n para toggle del panel "¬øSab√≠as que?"
        function toggleInfoPanel() {
            const infoPanel = document.getElementById('infoPanel');
            const currentLeft = infoPanel.style.left;
            if (currentLeft === '20px' || currentLeft === '') {
                infoPanel.style.left = '-400px';
            } else {
                infoPanel.style.left = '20px';
            }
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            const video = document.querySelector('.model-video');
            const nodes = document.querySelectorAll('.node');
            const backgroundVideo = document.querySelector('.background-video');
            const toggleInfoBtn = document.getElementById('toggleInfoBtn');

            // Event listener para el bot√≥n "¬øSab√≠as que?"
            toggleInfoBtn.addEventListener('click', toggleInfoPanel);

            // Mostrar nodos cuando el video se pause
            video.addEventListener('pause', () => {
                nodes.forEach(node => {
                    node.classList.remove('hidden');
                });
                updateVisuals();
                showNotification('Da clic a los nodos para comenzar el recorrido.', 'info');
            });

            // Ocultar nodos cuando el video se reproduzca
            video.addEventListener('play', () => {
                nodes.forEach(node => {
                    node.classList.add('hidden');
                });
            });

            // Ambos videos se reproducen autom√°ticamente (background y main model)
            video.addEventListener('loadeddata', () => {
                // No pausar el video principal, dejar que ambos se reproduzcan
            });
        });
    </script>
</body>
</html>